[Previous](/docs/page00008.md) | [Next](/docs/page00010.md)

# Understanding API Endpoints: The "Latest Reading" Endpoint

Let's break down how an API endpoint is defined in FastAPI, using the "latest reading" endpoint from `main.py` as our example.

```python
# From main.py

@app.get(
    "/api/v1/readings/latest",
    response_model=LatestReadingResponse,
    summary="Get Latest Sensor Reading"
)
async def get_latest_reading():
    """
    Retrieves the single most recent reading from the hydroponics system.
    This provides all data needed for the main dashboard.
    """
    # ... function body returns dummy_data
```

### What is this code doing?

This block uses a "decorator" to turn a regular Python function into a web API endpoint.

*   **`@app.get(...)`**: This is the decorator. It tells FastAPI that the function below it, `get_latest_reading`, should handle HTTP `GET` requests.
*   **`"/api/v1/readings/latest"`**: This is the URL path. A `GET` request to this path will execute the function.
*   **`response_model=LatestReadingResponse`**: This is a powerful instruction. It tells FastAPI to validate the data returned by the function against the `LatestReadingResponse` model. It also uses this model to generate the response schema in the automatic API docs.
*   **`summary="..."`**: This provides a short title for the endpoint in the API documentation.
*   **`async def get_latest_reading():`**: This is the actual function that runs when the endpoint is called. It contains the logic to fetch and return the data.
*   **The Docstring (`"""..."""`)**: The text inside the triple quotes is used by FastAPI to generate a detailed description for the endpoint in the documentation.

[Previous](/docs/page00008.md) | [Next](/docs/page00010.md)