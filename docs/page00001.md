[Next](/docs/page00002.md)

Here is a complete setup for a FastAPI server that serves the exact "dummy" JSON data for the two endpoints we defined.

This will act as the "brain" for your Flutter app to talk to. Your Flutter app can be built and tested against this server *before* your Raspberry Pi and CNN model are even finished.

I'll provide two files:
1.  `main.py`: The FastAPI server code.
2.  `requirements.txt`: The Python packages you need to install.

### How to Set Up and Run This Server:

1.  **Create a Project Folder:**
    * Create a new folder (e.g., `leafcloud_server`).
    * Save both `main.py` and `requirements.txt` inside it.

2.  **Create a Python Virtual Environment (Recommended):**
    * Open your terminal in that folder.
    * Run: `python -m venv venv`
    * Activate it:
        * **Windows:** `.\venv\Scripts\activate`
        * **macOS/Linux:** `source venv/bin/activate`

3.  **Install the Packages:**
    * With your virtual environment active, run:
    * `pip install -r requirements.txt`

4.  **Run the Server:**
    * In the same terminal, run:
    * `uvicorn main:app --reload`
    * `--reload` means the server will auto-restart when you save changes to `main.py`.

### How to Test Your New API:

Your server is now running! You can access it from your web browser.

1.  **Test the "Latest" Endpoint:**
    * Go to: `http://127.0.0.1:8000/api/v1/readings/latest`
    * You will see the JSON for `latest_response.json` in your browser.

2.  **Test the "History" Endpoint:**
    * Go to: `http://127.0.0.1:8000/api/v1/readings/history?range=30d`
    * You will see the JSON for `history_response.json`, and the `query_range` will correctly say `30d`.

3.  **See the API Documentation (FastAPI's Best Feature):**
    * Go to: `http://127.0.0.1:8000/docs`
    * FastAPI has automatically built an interactive API documentation page for you. You can test your endpoints right from this page.

Your Flutter app can now make `http` `GET` requests to these URLs to fetch this data.

[Next](/docs/page00002.md)