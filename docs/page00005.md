[Previous](/docs/page00004.md) | [Next](/docs/page00006.md)

# Understanding Pydantic Models: `LatestReadingResponse`

We've looked at the individual building blocks: `SensorData`, `PredictionData`, and `StatusData`. Now let's see how they come together in the main response model, `LatestReadingResponse`.

This class defines the entire JSON object that is returned by the `/api/v1/readings/latest` endpoint.

```python
# From main.py

class LatestReadingResponse(BaseModel):
    timestamp: datetime
    plant_id: str
    lettuce_image_url: str
    sensors: SensorData
    predictions: PredictionData
    status: StatusData
    recommendation: str
```

### What is this class doing?

This model acts as the top-level container for the most recent system reading. It composes the other models we've defined, creating a rich, structured, and validated object.

*   **`timestamp: datetime`**: The exact date and time when the reading was taken. Pydantic automatically validates that this is a valid ISO 8601 timestamp (like `"2025-11-16T10:30:01Z"`) and converts it into a Python `datetime` object.
*   **`plant_id: str`**: A unique identifier for the specific plant or hydroponics bucket being monitored (e.g., `"bucket_1_lettuce"`).
*   **`lettuce_image_url: str`**: A URL pointing to the latest image of the plant, captured by the system's camera.
*   **`sensors: SensorData`**: This is a **nested model**. The value for this field must be an object that conforms to the structure of the `SensorData` model we defined earlier.
*   **`predictions: PredictionData`**: Another nested model. The value for this field must match the structure of the `PredictionData` model.
*   **`status: StatusData`**: A nested model whose value must match the structure of the `StatusData` model, including the strict `Enum` validation.
*   **`recommendation: str`**: A human-readable string that gives the user a clear, actionable next step based on the overall status.

By composing models within other models, you can build complex, predictable, and self-documenting API responses. FastAPI uses this main model to generate the "Schema" in the automatic API docs, giving your front-end developers a perfect blueprint to work from.

[Previous](/docs/page00004.md) | [Next](/docs/page00006.md)