[Previous](/docs/page00003.md) | [Next](/docs/page00005.md)

# Understanding Pydantic Models: `StatusData` (with Enums)

The `StatusData` model is designed to provide a simple, human-readable summary of the plant's nutrient status. It translates the raw sensor and prediction data into actionable insights.

To make this model more robust, we've improved it by using Python's `Enum` (Enumeration) type.

```python
# From main.py

from enum import Enum

# Define allowed status values using an Enum for robustness
class NutrientStatus(str, Enum):
    ok = "ok"
    low = "low"
    high = "high"

class OverallStatus(str, Enum):
    ok = "ok"
    warning = "warning"
    danger = "danger"

# Sub-model for 'status' in latest_response.json
class StatusData(BaseModel):
    n_status: NutrientStatus
    p_status: NutrientStatus
    k_status: NutrientStatus
    overall_status: OverallStatus
```

### What is this class doing?

This model defines the structure for the status summary. By using `Enum`, we've made it much more powerful.

1.  **`class NutrientStatus(str, Enum):`**: This creates a special type. A variable annotated with `NutrientStatus` can *only* contain one of three string values: `"ok"`, `"low"`, or `"high"`. Any other value will cause a validation error. This prevents typos and inconsistencies.

2.  **`class StatusData(BaseModel):`**: This Pydantic model now uses our custom Enum types.
    *   `n_status: NutrientStatus`: The status for Nitrogen must be "ok", "low", or "high".
    *   `p_status: NutrientStatus`: The status for Phosphorus must be "ok", "low", or "high".
    *   `k_status: NutrientStatus`: The status for Potassium must be "ok", "low", or "high".
    *   `overall_status: OverallStatus`: The overall system status must be "ok", "warning", or "danger".

Using Enums makes your API self-documenting and significantly reduces the chance of bugs, as both the server and client (e.g., your Flutter app) can be built around a guaranteed set of possible values.

[Previous](/docs/page00003.md) | [Next](/docs/page00005.md)